<template name="matryoshka__partLooper">

	<div class="matryoshka__nestable__container {{ nestableGetCssClasses }}">

		<div class="matryoshka__nestable__container__col matryoshka__nestable__container__col--left">

			<h3>{{ nestableNameReadable }}</h3>

			{{> matryoshka__nestableSubPartButtons }}

		</div>

		<div class="matryoshka__nestable__container__col matryoshka__nestable__container__col--right matryoshka__nestable__container__col--{{ this.matryoshkaId }}">

			{{#each fields }}

				{{> matryoshka__fields}}

			{{/each}}

			{{#each fieldsTypeSpecific }}

				{{#if fieldsTypeSpecific__hasFieldsBool .. }}

					{{#each fieldsTypeSpecific__getFields ../.. }}

						{{> matryoshka__fields}}

					{{/each}}

				{{/if}}

			{{/each}}

		</div>

			{{#if nestables }}

				<div class="matryoshka__nestable__container__col matryoshka__nestable__container__col--parts">

					<div class="matryoshka__nestable__container__add-part-container">

						<div class="matryoshka__nestable__container__add-part-container__inner">

							{{#each nestables }}

								<div class="matryoshka__nestable__container__add-part-container__inner__part">

									<h2>Add new {{ name }}</h2>

									{{#each actualNestablesInArray }}

											<button
												data-parent-id="{{ ../../matryoshkaId }}"
												class="matryoshka__nestable__container__button add-part">
												<i class="fa fa-file-o"></i> {{ nestableNameReadable }}
											</button>

									{{/each}}

								</div>

								<div class="matryoshka__nestable__container__add-part-container__inner__part">

									<h2>Add predefined {{ name }}</h2>

									{{#each actualNestablesInArray }}

										{{#each savedNestableParts }}

											<button
												data-parent-id="{{ ../../../matryoshkaId }}"
												class="matryoshka__nestable__container__button add-predefined-part">
												<i class="fa fa-chain"></i> {{ matryoshkaName }}
											</button>

										{{/each}}

									{{/each}}

								</div>

							{{/each}}

						</div>

						<div class="matryoshka__nestable__container__add-part-container__extra-fader"></div>

					</div>

					{{#each nestables }}

						{{#each actualNestables .. }}

							{{> recurse dataToRecurse }}

						{{/each}}

					{{/each}}

					<div class="matryoshka__clearfix">	</div>

					<button class="matryoshka__nestable__container__button show-part-list"><i class="fa fa-plus"></i> Add parts to {{ type }}</button>

				</div>

			{{/if}}

	</div>

</template>
