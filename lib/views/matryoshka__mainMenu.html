<template name="matryoshka__mainMenu">

	<div class="matryoshka__mainMenu__visible-btn-row">

		{{#each mainMenuButtons }}

			{{> matryoshka__fixedButton }}

		{{/each}}

	</div>

	<div class="matryoshka__mainMenu__menu-container">

		{{#if nestableCreatable }}

			{{#each nestableCreatable }}

				<div class="matryoshka__mainMenu__menu-container__col">

					<h3>{{ name }}</h3>

					<ul class="matryoshka__mainMenu__menu-container__col__ul">

						{{#each menuItems }}

							<li>
								<a href="/matryoshka/edit/{{ _id }}" class="{{ activeMenuLink }}">
									{{ menuKey .. }}
								</a>
							</li>

						{{/each }}

					</ul>

					<!-- <button class="matroyska-nestable-new">Create new {{ this.name }}</button> -->
					<button class="matryoshka__nestable__container__button matroyska-nestable-new-show-list">
						Create new: <strong>{{ this.name }}</strong>
					</button>

					<div class="matryoshka__nestable__container__add-part-container">

						<div class="matryoshka__nestable__container__add-part-container__inner">

							<h2>Create new: <strong>{{ name }}</strong></h2>

							{{#each nestables }}

								<button class="matryoshka__nestable__container__button matroyska-nestable-new">
									New: <strong>{{ nestableNameReadable }}</strong>
								</button>

							{{/each}}

						</div>

						<div class="matryoshka__nestable__container__add-part-container__extra-fader"></div>

					</div>

				</div>

			{{/each }}

		{{else}}

			<div class="matryoshka__mainMenu__menu-container__col">

				<h3>You have not added any creatable nestables yet.</h3>

				<p>
					But don't worry, you can easily add a nestable type using:
				</p>

				<pre>Matryoshka.nestables.addType({
  name: 'page',
  createable: true
});</pre>

				<p>
					And then add a nestable to the type using:
				</p>

				<pre>Matryoshka.nestables.add({
  nestableName: 'webPage',
  nestableNameReadable: 'An ordinary web page.',
  type: 'page',
  fields: []
});</pre>

			</div>

		{{/if}}

	</div>

</template>
